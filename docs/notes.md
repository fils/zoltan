# Notes



Which could return the link:

https://geocodes.earthcube.org/#/search?q=Atlantic%20tropical%20cyclones&resourceType=all

Plus say the first 3 to 5 results in a short form.

This could be integrated into the EarthCube Slack channel as described at: https://api.slack.com/interactivity/slash-commands



## Test SPARQL

```SPARQL
prefix schema: <http://schema.org/>
SELECT distinct ?subj ?score ?name ?desc ?lit	
        WHERE {
            ?lit bds:search "Atlantic tropical cyclones" .
            ?lit bds:relevance ?score .
            filter( ?score > 0.4).
            ?subj ?p ?lit .
            ?subj schema:name ?name . 
            ?subj schema:description ?desc . 
}
   ORDER BY DESC(?score)
LIMIT 5
```


## Example reply struct

```go
type Autogenerated struct {
	Blocks []Blocks `json:"blocks"`
}
type Text struct {
	Type string `json:"type"`
	Text string `json:"text"`
}
type Blocks struct {
	Type string `json:"type"`
	Text Text   `json:"text,omitempty"`
}
```

## SPARQL results struct

```go
type Autogenerated struct {
    Head    Head    `json:"head"`
    Results Results `json:"results"`
}
type Head struct {
    Vars []string `json:"vars"`
}
type Subj struct {
    Type  string `json:"type"`
    Value string `json:"value"`
}
type Score struct {
    Datatype string `json:"datatype"`
    Type     string `json:"type"`
    Value    string `json:"value"`
}
type Name struct {
    Type  string `json:"type"`
    Value string `json:"value"`
}
type Desc struct {
    Type  string `json:"type"`
    Value string `json:"value"`
}
type Lit struct {
    Type  string `json:"type"`
    Value string `json:"value"`
}
type Bindings struct {
    Subj  Subj  `json:"subj"`
    Score Score `json:"score"`
    Name  Name  `json:"name"`
    Desc  Desc  `json:"desc"`
    Lit   Lit   `json:"lit"`
}
type Results struct {
    Bindings []Bindings `json:"bindings"`
}

```
